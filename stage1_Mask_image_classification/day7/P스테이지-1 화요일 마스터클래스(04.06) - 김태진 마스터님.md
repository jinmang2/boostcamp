# P스테이지-1 화요일 마스터클래스(04.06) - 김태진 마스터님

번개장터 (데이터 싸움 전문가) 데이터 사이언티스트
스프링 백엔드 ~ 데이터 분석 ~ 추천시스템 ~ 모델링 ~ …

## 세션

김태진 마스터님의 마스터클래스는 오늘(04.06)과 금요일(04.09) 두번 진행되며, 오늘은 강의와 관련된 내용과 팁 위주, 금요일은 질문 위주입니다. 마스터님이 더 드리고 싶은 말이 많아서 마스터클래스를 한번 더 요청하셨다고…🥺

- 강의를 하기 전에 걱정이 너무 많았습니다.

	- 오프라인으로 뵐 수 없어서 반응 확인을 할 수 없었고,
	- u스테이지 이후 첫 p스테이지 강의인데 어느정도로 배워오시는지도 몰랐고,
	- 잘 가르쳐드려서 많이 성장할 수 있었으면 좋겠다는 기대도 있으면서,
	- 박제가 되는 것이 아닌가 하는 고민…

- 수강생들이 정말 필요한것은 무엇일까?

	- 강의 난이도? 데이터셋? 과제? 대회 난이도?
	- 정말 충실하게 이미지분류 강의를 준비할 것이냐
	- 지금껏 U스테이지에서 배웠던 것을 얼마나 제대로 배웠는지 볼 것이냐
	- 이런걸 고민해서 장치들을 많이 마련했어요.

- 정말 여러분들에게 필요한 게 무엇일까 고민해봤을때 제가 내린 결론은

	- 이미지 분류라는 강의 주제에 퇴색이 조금 되더라도, 여러 주제를 가르쳐주자!
	- 이미지 분류 강의라기보다는 task를 하는 방법, pytorch, Competition의 테크닉을 가르쳐주자!

- 마스크 판별에 나이, 성별이 웬 말이냐?

	- 아무리 Mask 착용 여부(3 class)를 하면 어떤 

		쓰레기같은

		 모델을 써도 97%가 나와요…

		- 이러면 진흙탕 싸움이 될거같아서…

	- 그래서 나이와 성별을 포함했더니 70%가 뜨더라구요. 데이터셋을 바꾸기에도 늦어서 이렇게 했습니다.

	- 마스크 판별에 나이 성별 관련해서 왜 들어가냐고 여쭤보신 분이 있는데… ㅠㅠ 이상하긴 합니다 근데 어쩔수 없이 넣었습니다… 이것만은 알아주셨으면 좋겠습니다…

- Class Imbalance

	- 솔직히, 일부러 그랬습니다.
	- 밸런스있지 않은 데이터를 해볼 수 있으면 대회를 진행하는데 더 좋을거같아서.
		- 앞으로 마주할 데이터들은 이거보다 더한 데이터도 있을거에요.
	- 생각보다 욕을 많이 하실줄 알았는데 잘 해주셔서 다행입니다.

- 생각보다 많은 분들이 정말 많이 제출해주시고, 점수도 좋은 분들이 너무 많았습니다.

	- 압도적 감사(_ _)!

### 중요한 것 같으면서도 이정도면 다 알겠지 하고 보통 말안하고 넘어갈 정도로 간단하지만 혹시나 노파심에서 말하는 팁.

이거 알면 개발인생에 하루는 절약할 수 있지 않을까? 수준의 팁 ㅎㅎ

- Cloud Computing
	- AWS, Azure, Gcloud, etc…
	- 대부분의 회사에서는 cloud computiong을 사용하므로 AI stages에서 ssh로 원격 접속해서 쓰는것처럼 원격으로 접속해야합니다.
	- 원격 커맨드를 쳐서 접속하고 작동시켜야하니, 로컬 컴퓨터와의 차이를 알아야 좋지 않을까 싶었습니다.
- CLI(Command Line Interface)
	- 마우스를 가지고 클릭, 클릭해서 하는 GUI와 달리, Command로만 OS와 프로그램을 관리해야합니다.
	- 앞으로 AI 분야로 계속 가게 되면, 결국은 CLI를 사용하게 되실겁니다.
		- 리눅스에도 Gnome같은 Ubuntu를 설치하면 GUI가 나오지만, 대부분 CLI를 사용…
	- GUI는 추상화가 잘 되어있어서, 내부에서 어떤 명령이 돌아가는 지 모릅니다.
		- 그러나 CLI는 알기는 어렵지만, 한번 알고 나면 매우 파워풀한 동작들을 많이 수행할 수 있습니다.
		- GUI는 기능이 제한적이라, 컴퓨터로 뭔가 제대로 일을 하고싶다면 CLI를 써야만 합니다.
- 환경변수
	- CLI에서 여러 명령어들을 입력하여 사용하려면, 사실 그 명령어나 프로그램들이 정의된 위치를 알아야합니다.
	- 환경변수란 프로그램을 실행할 때 자동으로 참조하는 절대경로의 모음(우선순위 있음)입니다.
	- 프로그램을 실행할 때(명령어를 입력할 때) 등록된 해당 절대경로들을 훑어보면서 해당 프로그램을 발견했을때 그 즉시 실행하게 됩니다.
	- 파이썬 가상환경을 만든다는 것은, 이런 path(절대경로)를 수정한다는 것을 의미합니다.
		- 해당 경로는 `echo $PATH`로 확인할 수 있습니다.
	- 그냥 `which python`를 사용해보시고, conda 환경을 activate하고 `which python`을 수행해보시면, python이 존재하는 경로가 다른 것을 알 수 있습니다.
	- 가상 환경을 만든다는 것은, 절대경로를 따로 설정해두어 자유롭게 파이썬 환경을 바꿀 수 있다는 것을 의미합니다(컴퓨터에게 경로만 바꾸어 알려주면 되기때문에)
	- 환경만 잘 관리하면 anaconda는 별 의미가 없습니다. virtualenv만 하셔도 되고, 아주 안전하게 하는 경우에는 그냥 프로젝트 내부에 venv를 넣어서 관리하는 경우도 있어요. 이 경우 프로젝트 환경이 꼬였을 때 그냥 삭제해버리면 환경까지 다 삭제되어서 편합니다.

### IDE

- IDE(통합 개발 환경)을 왜쓸까요?
	- VSCode, PyCharm, eclipse같은 IDE를 왜 쓸까요?
	- CLI(in 서버환경)에서 vim 등을 켜서 바로 할수도 있지만, 훨씬 더 강력하고 다양한 툴을 지원해주니까.
		- 집에 빨리 가야죠…
		- 코드에 대한 설명을 바로 보여 준다던가, 내부 코드를 빠르게 접근해보고싶다던가 하는 개발의 속도감이 너무 빨라져요.
	- 다만, 이 IDE 자체는 로컬에 있어서, 원격으로 서버에 접근 할 수 있는 방법을 찾아야했습니다.
		- VSCode는 그래서 최근에 원격 서버에 접근하는 방식을 지원하기 시작했습니다(우리가 쓰는 방식)
	- 또, IDE에서 지원하는 가장 강력한 기능은 사실 Debugging입니다.
		- 일반적으로 우리는 학습이 안될 때 문제가 있는 걸 print로 찍어봅니다. 근데 찍어봐도 뭐가 뭔지 잘 모르죠.
		- 근데 디버거를 쓰면 그렇게 안해도 돼요. 그냥 에러점에 break point를 찍어보고, 느긋하게 하나하나 눌러보면서 어떤 변수에 어떤 타입의 어떤 값이 담기는지, 다음으로 이동할 때 어떻게 변화하는지 등을 다 확인할 수 있어요.
			- -> 아주 시간절약이 됩니다.
- VSCode와 Pycharm의 차이
	- 가장 큰 것 - 가격의 유무!
		- VSCode는 무료로 원격 서버 접속을 할 수 있습니다.
		- Pycharm은 돈을 내야지 할수 있어요…
			- 근데 대신에 VSCode보다 환경 세팅이 좀 더 쉽고, 트러블이 적어요.
	- VSCode는 VSCode 프로그램과 extension을 실제로 해당 원격 서버에 설치합니다. 코드가 그 서버에 있어요.
		- 근데 Pycharm은 local에 있는 코드를 서버로 복사해서 옮겨서 쓰는거에요. 접속하면 코드가 로컬(노트북)에서 옮겨진 해당 서버의 로컬(즉, 서버에 직접 접속)을 하게 됩니다.
		- 그래서 만약 로컬에서 안바꾼 코드를 서버에서 바꿔버리면 에러가 날 수 있어요. 수정은 로컬(노트북)에서 하는게 좋습니다.

### VSCODE 파헤치기

사실상 라이브 코딩이라 따로 적지 않겠습니다.

아래의 내용들은 정확하지 않을 수 있습니다(놓친 부분이 있을 수 있습니다)

- 설치할 extension

	- Python
	- Remote SSH
	- Remote Containers
	- Remote Development

- command pallete 단축키를 자주 쓰세요! 정말 빨리 작업을 수행할 수 있어요.

- **tmux** 쓰는 이유

	- 세션이 백그라운드로 돌아가도록 합니다.
	- 세션을 꺼도 계속 돌아가도록 할수 있습니다(실험을 돌려놓고 노트북을 끄고 나갔다와도 서버에서 계속 학습한다는 이야기입니다.)
	- 실험할 때 tmux 위에서 하시면 훨씬 좋을거에요!

- **Image Tile Viewer**

	- 좀 불안정하긴한데, 간편하게 이미지를 빨리 확인할 수 있어요.
	- 리눅스에서는 이미지 보기 힘드니까…
	- 경로로 들어가서 이미지를 한눈에 타일뷰로 보여줘요!
	- 파일이 너무 많으면 오래걸리거나 안뜨는 경우가…
	- 혹시나 중간에 멈추고 하면 command pallete로 `reload` 사용하세요!

- **PyTorch Snippets**

	- 파이토치에서 자주 사용되는 코드들의 베이스라인을 제공합니다.
	- extract method를 통해서 코드에서 method 추출이 가능합니다.
	- rename을 통해 변수명 일괄변경이 가능합니다. -> 이건 VSCode 기능인지 Snippets 기능인지 모르겠습니다.

- 디버깅

	- lanch.json 파일이 필요합니다.

		- 디버깅을 위한 configuration 파일이라고 보시면 될거같아요. 프로젝트 폴더에 만드시면 됩니다.

		- `${workspaceFolder}` : 현재 폴더

		- `args` : argument 파싱용

		- ```
			env
			```

			 : 환경변수 설정용

			- `import os` -> `os.env.{변수}`로 lanch.json에 있는 환경변수를 불러올수 있습니다.

		- '“jusyMyCode” : False`

			- 파이참은 중단점이 라이브러리 코드까지 들어가는데, VSCode는 라이브러리 내부까지는 중단점을 디폴트로 안걸어둡니다.(중간에 오류가 생기면 파이참은 라이브러리까지 보여주는데, VSCode는 내 코드에서 에러난 부분만 보여준다는 말입니다.)
			- 근데 이 옵션을 설정하면 라이브러리 내부까지 확인하여 중단점을 걸 수 있습니다.
			- 버전마다 라이브러리 코드에 오류가 있는 경우가 있어 들어가서 확인할 수 있다는게 좋은 점입니다.

	- 중간에 MNIST 데이터셋 다운로드 문제가 있어 끝까지 하지는 못했으나, 좌측의 Variable 부분에서 중단점 시점에 variable에 어떤 값이 들어가있는지 확인하실 수 있습니다.

	- 서버에는 일반적으로 `Jedi`라는게 설치되어있는데, 해당 함수 등의 내부 코드 힌트를 제공합니다.

		- ‘Jedi’ : 느리지만 다 나옵니다.
		- `Pylance` : 빠르지만, 가끔 안나오는 경우가 있어요.
		- 웬만하면 처음에는 Pylance보다는 Jedi 쓰시는걸 추천드립니다. 기본적으로 preference - open_settings에서 Jedi는 이미 등록되어있기때문에 따로 설정안하셔도…

------

녹화 영상도 공유해주셨으면 좋겠습니다 운영진님, 마스터님…(_ _)